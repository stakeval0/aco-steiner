# QuadTree

基本的には4分木アルゴリズムを用いて、指定された矩形範囲に存在する全ての点を割り出して返す。

## 議論

### 結論

| 議論の種           | 結論                                                         | 候補                                                         |
| ------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 探索範囲の分割方法 | モートン空間の面積が元の探索範囲の半分以下になったら分割を止める | 現在の探索範囲がそのモートン空間の半分以上を占めるまで分割, レベルで指定 |
|                    |                                                              |                                                              |
|                    |                                                              |                                                              |

### 探索範囲の分割

しかし、純粋な4分木アルゴリズを使ってしまうと、より大きな範囲のモートン空間を跨いだ範囲を検索する時に計算量が悪化してしまう。そこで、対象範囲をモートン空間に沿った形に分割して探索する。

問題はその分割方法である。レベルで指定する方法は楽ではあるが、使用者がレベルを意識しなければならない点で抽象化度が低い。かといって、現在の探索範囲がそのモートン空間の半分以上を占めるまで分割しようとすると、場合によっては分割しすぎになってしまう。

そこで、それらの折衷案として、モートン空間の面積が元の探索範囲の半分以下になったら分割を止める方式を採る。この方式であれば探索範囲は最大でも元の探索範囲の9倍未満に収まるし、分割のしすぎにもならないが、レベルを意識せずに使用することが出来る。